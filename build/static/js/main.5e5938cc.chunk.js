(this["webpackJsonpttt-front"]=this["webpackJsonpttt-front"]||[]).push([[0],{108:function(e,t,a){e.exports=a(164)},113:function(e,t,a){},115:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},138:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),s=(a(113),a(12)),c=a(13),i=a(15),m=a(14),u=a(28),d=a(23),p=(a(114),a(45)),f=a(47),h=a(96),E=a(11),b=a(16),g=(a(115),a(62)),v=a.n(g),N=a(74),C=(a(117),a(118),{style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("label",null,"Paiement",r.a.createElement(f.CardElement,{options:C})))}}]),a}(n.Component);a(119);function y(){var e=Object(f.useStripe)(),t=Object(f.useElements)(),a=function(){var a=Object(N.a)(v.a.mark((function a(n){var r,l,o,s,c,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=function(e){var t=e.customerId,a=e.paymentMethodId,n=e.priceId;return fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/createsubscription",{method:"post",headers:{"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({customerId:t,paymentMethodId:a,priceId:"price_1KT62UHoh2Vgz5QdcJIjB2vE"})}).then((function(e){return e.json()})).then((function(e){if(e.error)throw window.alert(e.message),e;return e})).then((function(e){return window.alert(e.message),{paymentMethodId:a,priceId:n,subscription:e}}))},n.preventDefault(),e&&t){a.next=4;break}return a.abrupt("return");case 4:return r=t.getElement(f.CardElement),a.next=7,e.createPaymentMethod({type:"card",card:r});case 7:l=a.sent,o=l.error,s=l.paymentMethod,o?console.log("[createPaymentMethod error]",o):(console.log("[PaymentMethod]",s),c=s.id,"","",i({customerId:"",paymentMethodId:c,priceId:""}));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("form",{className:"coForm",onSubmit:a},r.a.createElement(k,null),r.a.createElement("button",{className:"submitButtonSubRestau",disabled:!e},"Devenir un restaurateur Premium"))}var S=Object(h.a)("pk_live_51HAxRlHoh2Vgz5Qdxu3AGz9GC1q2B453vaXplDn3J0Q5wXRCZqwkuoCG5O1Nsr1VsbNIHmjVWj7XJo9cZmljPw7L00wQbxBO6Y"),j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{className:"monAbonnement"},r.a.createElement(b.a,{className:"infoAbonnement"},r.a.createElement(E.a,null,r.a.createElement("h3",null,"Votre abonnement premium restaurateur Tipourboire"),r.a.createElement(f.Elements,{className:"cbInput",stripe:S},r.a.createElement(y,null)))))}}]),a}(n.Component),w=a(21),O=a(29),I=(a(89),a(129),a(63)),x=a.n(I),P=a(76);function M(e){var t=Object(n.useState)(),a=Object(w.a)(t,2),l=(a[0],a[1],r.a.useRef(null)),o=r.a.useRef(null),s=r.a.useState(!1),c=Object(w.a)(s,2),i=c[0],m=c[1],u=r.a.useState("old boring text"),d=Object(w.a)(u,2),p=d[0],f=d[1],h=r.a.useCallback((function(){console.log("`onAfterPrint` called")}),[]),g=r.a.useCallback((function(){console.log("`onBeforePrint` called")}),[]),v=r.a.useCallback((function(){return console.log("`onBeforeGetContent` called"),m(!0),f("Loading new text..."),new Promise((function(e){o.current=e,setTimeout((function(){m(!1),f("New, Updated Text!"),e()}),2e3)}))}),[m,f]),N=r.a.useCallback((function(){return l.current}),[l.current]),C=Object(P.useReactToPrint)({content:N,documentTitle:"AwesomeFileName",onBeforeGetContent:v,onBeforePrint:g,onAfterPrint:h,removeAfterPrint:!0});r.a.useEffect((function(){"New, Updated Text!"===p&&"function"===typeof o.current&&o.current()}),[o.current,p]);var k="https://back-end.osc-fr1.scalingo.io/client/getMenu?restaurantName="+e.restaurant;return Object(n.useEffect)((function(){new x.a(document.getElementById("qrCodeDivResto"),{text:encodeURI(k),width:100,height:100,titleFont:"bold 20px Montserrat",titleColor:"#f5a624",titleBackgroundColor:"#fff",titleHeight:70,titleTop:25,subTitleFont:" bold 16px Montserrat",subTitleColor:"#4a4a4a",subTitleTop:50}),new x.a(document.getElementById("qrCodeDivResto2"),{text:encodeURI(k),width:83,height:83,titleFont:"bold 20px Montserrat",titleColor:"#f5a624",titleBackgroundColor:"#fff",titleHeight:70,titleTop:25,subTitleFont:" bold 16px Montserrat",subTitleColor:"#4a4a4a",subTitleTop:50})}),[]),r.a.createElement("div",null,r.a.createElement(b.a,{className:"rowCenterWeb"},r.a.createElement(E.a,{className:"backgroundTicketVisibleWeb",md:6},r.a.createElement(b.a,{className:"rowMarginCard"},r.a.createElement(E.a,null,r.a.createElement(b.a,{className:"rowCenterWeb"},r.a.createElement(E.a,{className:"borderCol",md:8},r.a.createElement("div",{id:"qrCodeDivResto"}))),r.a.createElement(b.a,{className:"rowMargin"},r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"text1"},"Pour acc\xe9der \xe0")),r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"textDeuxMenu"},"notre carte")),r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"text3Menu"},"scannez le")),r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"text3Menu"}," QR Code")),r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"text3Menu"},"ci-dessus"))),r.a.createElement(b.a,{className:"rowCenterWeb rowMargin "},r.a.createElement(E.a,null,r.a.createElement("img",{src:"/image/emoticone.png",className:"tipPicture"}))),r.a.createElement(b.a,{className:"rowMargin"},r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"titleName"},localStorage.getItem("propsRestaurant")))))))),r.a.createElement("div",{className:"QRPrint"},r.a.createElement("div",{id:"qrCodePdf",ref:l},r.a.createElement(E.a,{className:"backgroundTicket"},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(b.a,{className:"rowCenterWeb"},r.a.createElement(E.a,{className:"borderColPrint"},r.a.createElement("div",{id:"qrCodeDivResto2"}))),r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colCenter colMarginWord",md:12},r.a.createElement("span",{className:"text1PrintMenu"},"Pour acc\xe9der \xe0")),r.a.createElement(E.a,{className:"colCenter colMarginMenu",md:12},r.a.createElement("span",{className:"textDeuxPrintMenu"},"notre carte")),r.a.createElement(E.a,{className:"colCenter colMarginMenu",md:12},r.a.createElement("span",{className:"text3PrintMenu c"},"scannez le")),r.a.createElement(E.a,{className:"colCenter colMarginMenu",md:12},r.a.createElement("span",{className:"text3PrintMenuGrey"},"QR Code")),r.a.createElement(E.a,{className:"colCenter colMarginMenu",md:12},r.a.createElement("span",{className:"text3PrintMenu"},"ci-dessus"))),r.a.createElement(b.a,{className:"rowCenterWeb colMarginEmo"},r.a.createElement(E.a,{className:"colCenter "},r.a.createElement("img",{src:"/image/emoticone.png",className:"tipPicture"}))),r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colCenter ",md:12},r.a.createElement("span",{className:"titleNameMenu"},localStorage.getItem("propsRestaurant"))))))),i&&r.a.createElement("p",{className:"indicator"},"impression ..."))),r.a.createElement("button",{className:"buttonQrCode",onClick:C},"Imprimer le QR Code Table"))}var T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={restaurantName:e.restaurant},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,{className:"qrCode"},r.a.createElement(M,{className:"qr",restaurant:this.state.restaurantName}))}}]),a}(n.Component);a(131);function R(e){var t=r.a.useRef(null),a=r.a.useRef(null),l=r.a.useState(!1),o=Object(w.a)(l,2),s=o[0],c=o[1],i=r.a.useState("old boring text"),m=Object(w.a)(i,2),u=m[0],d=m[1],p=r.a.useCallback((function(){console.log("`onAfterPrint` called")}),[]),f=r.a.useCallback((function(){console.log("`onBeforePrint` called")}),[]),h=r.a.useCallback((function(){return console.log("`onBeforeGetContent` called"),c(!0),d("Loading new text..."),new Promise((function(e){a.current=e,setTimeout((function(){c(!1),d("New, Updated Text!"),e()}),2e3)}))}),[c,d]),g=r.a.useCallback((function(){return t.current}),[t.current]),v=Object(P.useReactToPrint)({content:g,documentTitle:"AwesomeFileName",onBeforeGetContent:h,onBeforePrint:f,onAfterPrint:p,removeAfterPrint:!0});r.a.useEffect((function(){"New, Updated Text!"===u&&"function"===typeof a.current&&a.current()}),[a.current,u]);var N="https://back-end.osc-fr1.scalingo.io/client/getMenuTicket?restaurantName="+e.restaurant;return Object(n.useEffect)((function(){new x.a(document.getElementById("qrCodeDiv"),{text:encodeURI(N),width:100,height:100,titleFont:"bold 20px  Montserrat",titleColor:"#f5a624",titleBackgroundColor:"#fff",titleHeight:70,titleTop:25,subTitleFont:"bold 16px Montserrat",subTitleColor:"#4a4a4a",subTitleTop:50}),new x.a(document.getElementById("qrCodeDiv2"),{text:encodeURI(N),width:80,height:80,titleFont:"bold 20px  Montserrat",titleColor:"#f5a624",titleBackgroundColor:"#fff",titleHeight:70,titleTop:25,subTitleFont:"bold 16px Montserrat",subTitleColor:"#4a4a4a",subTitleTop:50})}),[]),r.a.createElement("div",null,r.a.createElement(b.a,{className:"rowCenterWeb"},r.a.createElement(E.a,{className:"backgroundTicketVisibleWeb",md:6},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(b.a,{className:"rowCenterWeb"},r.a.createElement(E.a,{className:"borderCol",md:8},r.a.createElement("div",{id:"qrCodeDiv"}))),r.a.createElement(b.a,{className:"rowMargin"},r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"text1"},"Pour donner un pourboire")),r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"textDeux"},"Scannez le QR Code ci-dessus")),r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"text3"},"Rapide & 100% s\xe9curis\xe9"))),r.a.createElement(b.a,{className:"rowCenterWeb rowMargin "},r.a.createElement(E.a,null,r.a.createElement("img",{src:"/image/emoticone.png",className:"tipPicture"}))),r.a.createElement(b.a,{className:"rowMargin"},r.a.createElement(E.a,{md:12},r.a.createElement("span",{className:"titleName"},localStorage.getItem("propsRestaurant"))),r.a.createElement(E.a,{className:"colThanks",md:12},r.a.createElement("span",{className:"text4Ticket"},"Vous remercie !"))),r.a.createElement(b.a,{className:"colorRow"},r.a.createElement(E.a,null,r.a.createElement("img",{src:"/image/logoticket.png"}))))))),r.a.createElement("div",{className:"QRPrint"},r.a.createElement("div",{id:"qrCodePdf",ref:t},r.a.createElement(E.a,{className:"backgroundTicket"},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(b.a,{className:"rowCenterWeb"},r.a.createElement(E.a,{className:"borderColPrint"},r.a.createElement("div",{id:"qrCodeDiv2"}))),r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colCenter colMarginWord",md:12},r.a.createElement("span",{className:"text1Print"},"Pour donner un pourboire")),r.a.createElement(E.a,{className:"colCenter colMargin",md:12},r.a.createElement("span",{className:"textDeuxPrint"},"Scannez le QR Code ci-dessus")),r.a.createElement(E.a,{className:"colCenter colMarginRap",md:12},r.a.createElement("span",{className:"text3Print"},"Rapide & 100% s\xe9curis\xe9"))),r.a.createElement(b.a,{className:"rowCenterWeb colMarginEmo"},r.a.createElement(E.a,{className:"colCenter "},r.a.createElement("img",{src:"/image/emoticone.png",className:"tipPicture"}))),r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colCenter ",md:12},r.a.createElement("span",{className:"titleName"},localStorage.getItem("propsRestaurant"))),r.a.createElement(E.a,{className:"colThanks colCenter colMarginThanks ",md:12},r.a.createElement("span",{className:"text4"},"Vous remercie !"))),r.a.createElement(b.a,{className:"colorRow"},r.a.createElement(E.a,null,r.a.createElement("img",{src:"/image/logoticket.png"})))))),s&&r.a.createElement("p",{className:"indicator"},"impression ..."))),r.a.createElement("button",{onClick:v,className:"buttonQrCode"},"Imprimez votre \xe9tiquette"))}var G=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoading:!1,restaurant:e.restaurant},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(b.a,{className:"qrCode"},r.a.createElement(R,{className:"qr",restaurant:this.state.restaurant}))}}]),a}(n.Component),A=(a(132),a(71));A.a.initializeApp({apiKey:"AIzaSyAut6vqnimGfA8-stmTnB-q4tyrXv2aJow",authDomain:"tipourboire-57c09.firebaseapp.com",projectId:"tipourboire-57c09",storageBucket:"tipourboire-57c09.appspot.com",messagingSenderId:"592397685193",appId:"1:592397685193:web:e6c6a5fca6aeccef5f1818",measurementId:"G-5LS7DQYY60"}),A.a.analytics();A.a.storage();function q(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)(""),o=Object(w.a)(l,2),s=o[0],c=o[1],i=Object(n.useState)(""),m=Object(w.a)(i,2),u=(m[0],m[1],Object(n.useState)("")),d=Object(w.a)(u,2),p=(d[0],d[1]),f=Object(n.useState)({}),h=Object(w.a)(f,2),b=(h[0],h[1],function(){var e=new Headers({Authorization:"Bearer "+localStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/profil",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e.logo)}),(function(e){console.log(e)}))});return Object(n.useEffect)((function(){b()}),[]),r.a.createElement(E.a,{className:"addImage"},r.a.createElement("h1",{className:"title"},"Mon Logo "),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=new Headers({"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/profil/edit/logo",{method:"PUT",body:t,headers:n}).then((function(e){return e.json()})).then((function(e){p(e.message);var t=new Headers({Authorization:"Bearer "+localStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/profil",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){a(e.logo),b()}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))},className:"formLogo"},r.a.createElement("img",{className:"restaurantLogo",src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+s}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"file",name:"file",onChange:function(e){a(e.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("button",{className:"buttonVal",type:"submit"},"Valider")))}var B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleShow=function(){n.setState({show:!0})},n.handleClose=function(){n.setState({show:!1})},n.buttonEdit=function(){return 1==n.state.editing?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button",onClick:function(){n.setState({editing:!1})}},"Modifier ",r.a.createElement("br",null))):r.a.createElement("button",{className:"button",onClick:n.putProfilOnClick},"Confirmer Modification")},n.buttonCancel=function(){if(0==n.state.editing)return r.a.createElement("button",{className:"button",onClick:function(){n.setState({editing:!0}),n.getMonProfil()}},"Annuler")},n.handleInput=function(e){var t=n.state.profil;t[e.target.name]=e.target.value,n.setState({profil:t})},n.getMonProfil=function(){var e=new Headers({Authorization:"Bearer "+localStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/profil",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({profil:t}),localStorage.setItem("propsRestaurant",JSON.stringify(e.restaurantName)),n.setState({checkGeneral:e.pourboireGeneral}),n.setState({checkIndividuel:e.pourboireIndividuel}),console.log()}),(function(e){console.log(e)}))},n.unSubscription=function(){var e=new Headers({Authorization:"Bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/delete",{method:"POST",headers:e}).then((function(e){return e.json()})).then((function(e){n.setState({profil:e})}),(function(e){console.log(e)}))},n.modifProfil=function(){var e={restaurantName:n.state.profil.restaurantName,bossName:n.state.profil.bossName,adress:n.state.profil.adress,city:n.state.profil.city,email:n.state.profil.email,bossFirstName:n.state.profil.bossFirstName,phone:n.state.profil.phone,pourboireGeneral:n.state.checkGeneral,pourboireIndividuel:n.state.checkIndividuel},t=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("token")}),a={method:"PUT",body:JSON.stringify(e),headers:t};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/profil/edit",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.setState({editing:!0}),n.getMonProfil()}),(function(e){console.log(e)}))},n.modifProfilLogo=function(e){e.preventDefault();var t=new FormData(e.target),a=new Headers({"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/profil/edit/logo",{method:"PUT",body:t,headers:a}).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.getMonProfil()}),(function(e){console.log(e)}))},n.postParrainage=function(e){e.preventDefault();var t={email:n.state.email},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("token")}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/serveur/emailParrainage?_id="+n.state.email+"&mailSender="+n.state.profil.email,r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}))},n.putProfilOnClick=function(){n.modifProfil()},n.state={profil:{},editing:!0,show:!1,redirect:!1,checkGeneral:!1,checkIndividuel:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getMonProfil(),console.log("stateIndiv",this.state.checkIndividuel),console.log("stateIndiv",this.state.checkGeneral)}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,{className:"styleProfil parrainage"},r.a.createElement(q,null),r.a.createElement(b.a,null,r.a.createElement(E.a,{md:12,className:"formProfil "},r.a.createElement("h1",{className:"title"},"Mes informations "),r.a.createElement("p",null,this.state.editing?r.a.createElement("h1",{className:"textProfilTitre"},this.state.profil.restaurantName):r.a.createElement("input",{type:"text",Value:this.state.profil.restaurantName,name:"restaurantName",onChange:this.handleInput})),r.a.createElement("p",null,this.state.editing?r.a.createElement("span",{className:"textProfil"},this.state.profil.bossFirstName):r.a.createElement("input",{type:"text",name:"bossFirstName",placeholder:"Pr\xe9nom",onChange:this.handleInput,Value:this.state.profil.bossFirstName})),r.a.createElement("p",null,this.state.editing?r.a.createElement("span",{className:"textProfil"},this.state.profil.bossName):r.a.createElement("input",{type:"text",name:"bossName",placeholder:"Nom",onChange:this.handleInput,Value:this.state.profil.bossName})),r.a.createElement("p",null,this.state.editing?r.a.createElement("span",{className:"textProfil"},this.state.profil.adress):r.a.createElement("input",{type:"text",name:"adress",placeholder:"Adresse",onChange:this.handleInput,Value:this.state.profil.adress})),r.a.createElement("p",null,this.state.editing?r.a.createElement("span",{className:"textProfil"},this.state.profil.city):r.a.createElement("input",{type:"text",name:"city",placeholder:"Ville",onChange:this.handleInput,Value:this.state.profil.city})),r.a.createElement("p",null,this.state.editing?r.a.createElement("span",{className:"textProfil"},this.state.profil.email):r.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:this.handleInput,Value:this.state.profil.email})),r.a.createElement("p",null,this.state.editing?r.a.createElement("span",{className:"textProfil"},this.state.profil.phone):r.a.createElement("input",{type:"text",Value:this.state.profil.phone,placeholder:"T\xe9l\xe9phone",name:"phone",onChange:this.handleInput})),this.state.editing?r.a.createElement("div",null,r.a.createElement("span",{className:"textProfil"},this.state.profil.pourboireGeneral?"Pourboire G\xe9n\xe9ral Autoris\xe9":"Pourboire G\xe9n\xe9ral Refus\xe9"),r.a.createElement("br",null),r.a.createElement("span",{className:"textProfil"},this.state.profil.pourboireIndividuel?"Pourboire Individuel Autoris\xe9":"Pourboire Individuel Refus\xe9")):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{className:"labelMargin",type:"checkbox",id:"individuel",name:"individuel",checked:this.state.checkIndividuel,onChange:function(){e.setState({checkIndividuel:!e.state.checkIndividuel})}}),r.a.createElement("label",{for:"individuel"},"Pourboire individuel")),r.a.createElement("div",null,r.a.createElement("input",{className:"labelMargin",type:"checkbox",id:"general",name:"general",checked:this.state.checkGeneral,onChange:function(){e.setState({checkGeneral:!e.state.checkGeneral})}}),r.a.createElement("label",{className:"labelMargin",for:"general"},"Pourboire G\xe9n\xe9ral"))),this.buttonEdit(),this.buttonCancel()),r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colParrainage"},r.a.createElement(b.a,null,r.a.createElement(E.a,{md:12},r.a.createElement("label",{className:"demandeParrainage"},"Parrainer un Serveur et/ou Restaurateur"))),r.a.createElement(b.a,{className:"rowParrain"},r.a.createElement(E.a,null,r.a.createElement("input",{type:"text",name:"email",onChange:this.handleInput,placeholder:"Email du parrain\xe9",className:"inputParrainage"})),r.a.createElement(E.a,null,r.a.createElement("input",{type:"submit",value:"Envoyer",onClick:this.postParrainage,className:"buttonParrainage"}),r.a.createElement("p",{className:"infoParrainage"},"\" Vous \xeates satisfaits : parlez-en autour de vous ! A chaque parrainage d'un restaurateur, vous et votre confr\xe8re gagnez 2 mois d'abonnements Premium \""))))),r.a.createElement(E.a,{className:"formProfil nomProfil center"},r.a.createElement("h1",{className:"title"},"Mes QR Codes "),r.a.createElement(b.a,{className:"rowCenter"},r.a.createElement(E.a,{xs:6,md:6},r.a.createElement("p",null,"QR CODE pourboire de votre \xe9tablissement "),r.a.createElement("p",{className:"qrSub"},"\xe0 ins\xe9rer sur vos tickets d'addition depuis votre logiciel de caisse"),r.a.createElement(G,{className:"qrCodeTicket",restaurantName:this.state.profil.restaurantName}))),r.a.createElement(b.a,{className:"rowCenter"},r.a.createElement(E.a,{xs:6,md:6},r.a.createElement("p",{className:"qr"}," QR CODE carte "),r.a.createElement("p",{className:"qrSub"},"\xc0 t\xe9l\xe9charger pour impression sur vos supports ou insertion dans votre logiciel de caisse ou d'encaissement."),r.a.createElement(T,{className:"qrCode",restaurantName:this.state.profil.restaurantName}))),r.a.createElement("br",null),r.a.createElement(O.a,{onClick:function(){window.confirm("Voulez vous vous d\xe9connecter ?"),e.props.setLogin(!1),e.props.history.push("/")},className:"signOut1 button"},"D\xe9connexion"))))}}]),a}(n.Component),L=a(25),D=a(9),z=(a(138),a(139),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.addLogin=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/login",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),e.token&&(localStorage.setItem("token",e.token),localStorage.setItem("userID",e.userId),n.props.setLogin(!0),n.props.history.push("/homepage"))}))},n.state={email:"",message:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){return r.a.createElement(p.a,{className:"connexion-container"},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",null,"D\xe9ja inscrit ? "),r.a.createElement("h1",null,"Connectez-vous !"))),r.a.createElement(D.a.Group,{controlId:"formBasicEmail"},r.a.createElement(D.a.Control,{name:"email",type:"email",ClassName:"formMail",placeholder:"Votre e-mail",id:"email",onChange:this.handleInput,value:this.state.email}),r.a.createElement(D.a.Control,{name:"password",type:"password",ClassName:"formMail",placeholder:"Votre mot de passe",id:"password",onChange:this.handleInput,value:this.state.password})),r.a.createElement(E.a,{className:"colMdp",xs:12,md:12},r.a.createElement(u.b,{className:"forgetpwd",to:"/passwordReset"},r.a.createElement("p",null,"Mot de passe oubli\xe9 ?"))),r.a.createElement(E.a,{md:12,className:"blocCompte"},r.a.createElement(O.a,{className:"connectButton",onClick:this.addLogin},"Se connecter"),r.a.createElement("p",null,this.state.message)),r.a.createElement(E.a,{className:"alignRight"},r.a.createElement(D.a.Label,{className:"text2"},"Pas encore inscrit ?"," ",r.a.createElement(u.b,{className:"creerCompte",to:"/Inscription"},"Cr\xe9er mon compte"))))}}]),a}(n.Component)),H=a(68),V=a(50),F=(a(143),n.Component,a(144),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.addNewRegister=function(e){e.preventDefault();var t=new FormData(e.target),a=new Headers({"X-Requested-With":"XMLHttpRequest"});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/inscription",{method:"POST",body:t,headers:a}).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))},n.state={restaurantName:"",checkIndiv:!0,checkGen:!0},n}return Object(c.a)(a,[{key:"render",value:function(){var e;return r.a.createElement(p.a,{className:"Bloc-principal"},r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colInscr",md:6},r.a.createElement(b.a,{className:"Titre"},r.a.createElement("h1",null,"Cr\xe9er mon compte restaurateur")),r.a.createElement(b.a,null,r.a.createElement("p",null,"Merci de remplir les informations ci-dessous pour finaliser la cr\xe9ation de votre compte.")),r.a.createElement(b.a,null,r.a.createElement(D.a,{className:"form",onSubmit:this.addNewRegister},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formNom"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Nom du restaurant",name:"restaurantName",onChange:this.handleInput})))),r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formPrenom"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Nom ",name:"bossName",onChange:this.handleInput}))),r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formDate"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Pr\xe9nom",name:"bossFirstName",onChange:this.handleInput})))),r.a.createElement(D.a.Group,{controlId:"formAdresse"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Adresse",name:"adress",onChange:this.handleInput})),r.a.createElement(D.a.Group,{controlId:"formCity"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Ville",name:"city",onChange:this.handleInput})),r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formVille"},r.a.createElement(D.a.Control,{type:"text",placeholder:"T\xe9l\xe9phone",name:"phone",onChange:this.handleInput}))),r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formTel"},r.a.createElement(D.a.Control,{type:"text",placeholder:"E-mail",name:"email",onChange:this.handleInput})))),r.a.createElement(b.a,null,r.a.createElement(E.a,{xs:6},r.a.createElement(D.a.Group,{className:"servicePropose",controlId:"formService"},r.a.createElement(D.a.Label,{controlId:"formService"},"Services propos\xe9s"),r.a.createElement(D.a.Check,{type:"checkbox",name:"noon",label:"Midi",onChange:this.handleInput}),r.a.createElement(D.a.Check,{type:"checkbox",name:"soir",label:"Soir",onChange:this.handleInput}))),r.a.createElement(E.a,{xs:6},r.a.createElement(D.a.Group,{controlId:"formService"},r.a.createElement("input",{type:"checkbox",id:"individuel",name:"alone",checked:this.state.checkIndividuel,onChange:this.handleInput}),r.a.createElement("label",{for:"individuel"},"Pourboire individuel"),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",id:"general",name:"collectif",checked:this.state.checkGeneral,onChange:this.handleInput}),r.a.createElement("label",{for:"general"},"Pourboire G\xe9n\xe9ral")))),r.a.createElement(D.a.Group,{controlId:"formPass"},r.a.createElement(D.a.Label,null,"Mot de passe",r.a.createElement("p",{className:"detailPassword"},"8 caract\xe8res min. : au moins 1 majuscule, 1 minuscule, 1 chiffre et 1 caract\xe8re sp\xe9cial")),r.a.createElement(D.a.Control,{type:"password",placeholder:"Mot de passe",name:"password",onChange:this.handleInput})),r.a.createElement(b.a,null,r.a.createElement(E.a,{md:9},r.a.createElement(D.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement("br",null),r.a.createElement(D.a.Check,{className:"checkboxCGU",type:"checkbox",name:"acceptControl",label:"J'ai lu et j'accepte les CGU et CGV",onChange:this.handleInput,required:!0}),r.a.createElement(b.a,{style:{marginLeft:"10px",fontWeight:"bold"}},r.a.createElement("a",{className:"cgvLink",href:"/CGV_TIPTOTHANK.pdf",target:"_blanck"},"CGU")))),r.a.createElement(E.a,{md:3},r.a.createElement(O.a,(e={className:"submitButtonRestau",block:!0,type:"submit"},Object(L.a)(e,"block",!0),Object(L.a)(e,"type","submit"),e),"S'inscrire")),r.a.createElement("p",{className:"annonce"},"*TIPOURBOIRE est responsable du traitement des donn\xe9es personnelles collect\xe9es sur ce site. Elles sont collect\xe9es aux fins de : l'ex\xe9cution du contrat/vous informer de nos nouveaut\xe9s et actualit\xe9s/\xe0 des fins statistiques, les bases l\xe9gales respectives des traitements pouvant \xeatre l'ex\xe9cution du contrat, l'int\xe9r\xeat l\xe9gitime, ou le consentement. Pour plus d'informations voir notre politique de confidentialit\xe9."))),r.a.createElement(E.a,{md:{span:6,offset:3}},this.state.message)))))}}]),a}(n.Component)),W=a(55),X=a(52);a(145);function J(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)(""),o=Object(w.a)(l,2),s=o[0],c=o[1],i=Object(n.useState)(""),m=Object(w.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(w.a)(p,2),h=(f[0],f[1]),g=Object(n.useState)({}),v=Object(w.a)(g,2),N=v[0],C=v[1],k=function(){var e=new Headers({Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/menu",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){c(e.menu.dailyMenu.picture),d(e.menu.dailyMenu.label),C(e.menu),console.log("image",e.menu.dailyMenu.picture),console.log("image",s)}),(function(e){console.log(e)}))};return Object(n.useEffect)((function(){k()}),[]),r.a.createElement(b.a,{className:"centerRow"},r.a.createElement(E.a,{md:12},r.a.createElement("h6",{className:"menujour"},"Charger ma carte")),r.a.createElement(E.a,{className:"colMenu",md:12},r.a.createElement("p",null," Carte en cours, t\xe9l\xe9charg\xe9 le : ",u),r.a.createElement(X.a.Body,{className:"cardsupp"},r.a.createElement("button",{className:"boutonSupprimer",type:"submit",onClick:function(){return function(e){window.confirm("Etes-vous sur de vouloir supprimer le menu du jour ?");var t={dailyMenu:N},a=new Headers({Authorization:"bearer "+localStorage.getItem("token")}),n={method:"DELETE",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/dailymenu/delete",n).then((function(e){return e.json()})).then((function(e){h(e.message),k()}),(function(e){console.log(e)}))}()}},"Supprimer la carte en cours")),r.a.createElement(X.a.Img,{variant:"top",src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+s,className:"dailyMenu",alt:"Menu du Jour"}),r.a.createElement("form",{className:"formMenu",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=new Headers({Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/dailymenu/add",{method:"PUT",body:t,headers:n}).then((function(e){return e.json()})).then((function(e){h(e.message);var t=new Headers({Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/menu",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){a(e.menu.dailyMenu.picture),d(e.menu.dailyMenu.label),C(e.menu)}),(function(e){console.log(e)})),k()}),(function(e){console.log(e)}))}},r.a.createElement("input",{type:"file",name:"file",onChange:function(e){a(e.target.files[0])}}),r.a.createElement("p",null," ","Si vous avez d\xe9j\xe0 charg\xe9 un visuel et souhaitez le modifier, cliquez ci-dessous pour choisir un nouveau fichier.",r.a.createElement("br",null),r.a.createElement("i",null," format jpg, jpeg et png")),r.a.createElement("button",{className:"bouton",type:"submit"},"Valider la carte"))))}var Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(J,null)}}]),a}(n.Component),U=a(152),_=(a(146),a(98)),K=a.n(_),Y=(a(147),a(148),a(72)),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).popupModal=function(){var e;return console.log("indexRef",n.state.indexRef),console.log("ndex",null===(e=n.state.serveur.tabServeur[n.state.indexRef])||void 0===e?void 0:e.serveurMail),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{show:n.state.modalReferent,onHide:function(){return n.setState({modalReferent:!1})}},r.a.createElement(Y.a.Header,{closeButton:!0},r.a.createElement(Y.a.Title,{style:{color:"#f5a624"}},"Tipourboire")),r.a.createElement(Y.a.Body,null," ",r.a.createElement("div",{className:"modalPopup"},r.a.createElement("h4",null,"Ajout d'un r\xe9f\xe9rent dans votre \xe9tablissement un mail lui sera envoy\xe9"),r.a.createElement("span",{className:"textePopup"},"Etes vous sur de vouloir ajouter"," "),r.a.createElement("button",{onClick:function(){n.addReferent(n.state.serveur.tabServeur[n.state.indexRef].serveurMail)}},"Oui"),r.a.createElement("button",null,"Non")))))},n.hideModal=function(){n.setState({modalReferent:!1})},n.getWaiterList=function(){var e=new Headers({Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/management/waiter-list",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){console.log("data",e),n.setState({serveur:e})}),(function(e){console.log(e)}))},n.renderMesServeurs=function(){return n.state.serveur.tabServeur.map((function(e,t){var a,l;return r.a.createElement("div",{className:"serveurDiv"},r.a.createElement("p",{className:"serveurP"},e.serveurName),r.a.createElement("p",{className:"serveurN"},e.serveurLastName),r.a.createElement(U.a,{className:"serverPicture",src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+e.serveurPicture,roundedCircle:!0}),r.a.createElement("br",null),r.a.createElement("button",{className:"button",onClick:function(){var t={mail:e.serveurMail},a={method:"DELETE",headers:new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/management/waiter-delete",a).then((function(e){return e.json()})).then((function(e){n.getWaiterList()}),(function(e){console.log(e)}))}},"Supprimer"),r.a.createElement("br",null),(null===(a=n.state.serveur)||void 0===a||null===(l=a.referent)||void 0===l?void 0:l.email)===e.serveurMail?r.a.createElement("button",{className:"buttonRef",onClick:function(){console.log("je suis ref")}},"R\xe9f\xe9rent d\xe9sign\xe9"):r.a.createElement("button",{className:"buttonNonRef",onClick:function(){n.setState({indexRef:t}),n.setState({modalReferent:!0})}},"Non r\xe9f\xe9rent"))}))},n.handleInput=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.addAffiliation=function(e){e.preventDefault();var t={email:n.state.email},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("token")}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/management/affiliation",r).then((function(e){return e.json()})).then((function(e){console.log(e),!0===e?alert("Votre demande a bien \xe9t\xe9 prise en compte"):alert(e.messageAffi)}))},n.addReferent=function(e){var t,a,r={email:null===(t=n.state.serveur)||void 0===t||null===(a=t.tabServeur[n.state.indexRef])||void 0===a?void 0:a.serveurMail},l=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("token")}),o={method:"POST",body:JSON.stringify(r),headers:l};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/management/referent",o).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})})).then((function(){n.hideModal()}))},n.crew=function(){return n.state.serveur?r.a.createElement(E.a,{className:"crewStyle"},r.a.createElement(K.a,{slidesPerPage:5,slidesPerScroll:1,centered:!0,infinite:!0,breakpoints:{1e3:{slidesPerPage:0,clickToChange:!1,centered:!1},500:{slidesPerPage:1,slidesPerScroll:1,clickToChange:!1,centered:!1,animationSpeed:2e3,infinite:!1}}},n.renderMesServeurs())):r.a.createElement("p",{className:"affiliation"},"Vous n'avez pas de personnel affili\xe9")},n.state={serveur:{tabServeur:[],referent:{}},email:"",modalReferent:!1,indexRef:0},n.hideModal=n.hideModal.bind(Object(W.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getWaiterList()}},{key:"render",value:function(){return r.a.createElement(p.a,{className:"container personnel"},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(u.b,{className:"linkButton",to:"/equipe"},r.a.createElement("h1",{className:"title-container"},"Gestion de mon \xe9quipe")))),r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colAffiliation"},r.a.createElement(E.a,{md:12},r.a.createElement("label",{className:"demandeAffiliation"},"Ajouter un b\xe9n\xe9ficiaire dans mon \xe9quipe")),r.a.createElement("input",{type:"text",name:"email",onChange:this.handleInput,placeholder:"B\xe9n\xe9ficiaire",className:"inputAffi"}),r.a.createElement("input",{type:"submit",value:"Envoyer la demande",onClick:this.addAffiliation,className:"button"}),r.a.createElement("p",{className:"infoAffi"},"\"Si votre b\xe9n\xe9ficiaire n'est pas encore inscrit sur la plateforme Tipourboire, il recevra un mail afin de valider son inscription est compl\xe9ter son compte. Le b\xe9n\xe9ficiaire doit valider votre demande afin d'\xeatre r\xe9f\xe9renc\xe9 dans votre \xe9quipe. Vous pourrez alors le visualiser\""),this.state.messageAffi)),r.a.createElement("h1",{className:"titleWaiter"},"Mon \xe9quipe "),this.crew(),this.popupModal())}}]),a}(n.Component);a(153);function $(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],l=t[1],o=function(){return l(!1)},s=function(){return l(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:"buttonTuto",onClick:s},"Etapes obligatoires"," ",r.a.createElement(O.a,{onClick:s,className:"flecheTuto"},">")),r.a.createElement(Y.a,{show:a,onHide:o,animation:!0,backdrop:"static",keyboard:!1},r.a.createElement(Y.a.Header,{closeButton:!0},r.a.createElement(Y.a.Title,null,"Comment activer votre compte ?")),r.a.createElement(Y.a.Body,null,r.a.createElement("p",{className:"title1"},"Veillez \xe0 avoir effectuer les actions suivantes afin de permettre \xe0 vos clients de donner des pourboires"),r.a.createElement("p",{className:"para1"},"D\xe9finissez les param\xe8tres de redistribution : collectif ou individuel",r.a.createElement("br",null),"Ajoutez vos b\xe9n\xe9ficiaires et/ou d\xe9signez votre r\xe9f\xe9rent selon la distribution choisie",r.a.createElement("br",null),r.a.createElement("br",null),"Demandez \xe0 chaque personne de votre \xe9quipe de valider sa cr\xe9ation de compte \xe0 r\xe9ception de votre mail",r.a.createElement("br",null),r.a.createElement("br",null),"En cas de non r\xe9ception, pensez \xe0 leur demander de v\xe9rifier les courriers ind\xe9sirables.",r.a.createElement("br",null)," ",r.a.createElement("br",null),"Le b\xe9n\xe9ficiaire peut aussi directement cr\xe9er un compte et \xeatre rattach\xe9 par la suite \xe0 votre \xe9tablissement. (notamment si cette personne travaille dans plusieurs \xe9tablissements utilisant Tipourboire.)",r.a.createElement("br",null)),r.a.createElement("p",{className:"title1"},"Et pensez \xe0 mettre en avant votre QR Code pour booster vos pourboires !"),r.a.createElement("p",{className:"para1"},"Imprimez et mettez en \xe9vidence votre QR Code pour permettre au plus grand nombre de le flasher",r.a.createElement("br",null),"sur des pr\xe9sentoirs dans votre \xe9tablissement",r.a.createElement("br",null)," Sur le comptoir",r.a.createElement("br",null),"A c\xf4t\xe9 de votre caisse",r.a.createElement("br",null),"Sur votre TPE",r.a.createElement("br",null),"Sur votre ticket de caisse",r.a.createElement("br",null),"Ou encore dans vos coupelles ou sur vos cartes",r.a.createElement("br",null),"tous les supports sont bons",r.a.createElement("br",null),"pour capter l'attention !",r.a.createElement("br",null),r.a.createElement("br",null),"ET avec QR carte",r.a.createElement("br",null),"Mettez \xe0 disposition votre carte apr\xe8s l'avoir simplement prise en photo",r.a.createElement("br",null),"et charg\xe9e dans votre espace :",r.a.createElement("br",null),"simple et efficace !")),r.a.createElement(Y.a.Footer,null,r.a.createElement(O.a,{className:"modalButton",variant:"secondary",onClick:o},"Fermer"))))}var ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).hideModal=function(){n.setState({show:!1}),console.log("this",n.state.show)},n.isReferent=function(){if(console.log("test",!0===n.state.pourboireGeneral,0===n.state.tabServeur.length),!0!==n.state.pourboireGeneral||0!==n.state.tabServeur.length)return null;n.setState({show:!0})},n.handleInput=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.addAffiliation=function(e){e.preventDefault();var t={email:n.state.email},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+localStorage.getItem("token")}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/management/affiliation",r).then((function(e){return e.json()})).then((function(e){n.hideModal(),!0===e?(console.log("hello"),alert("Votre demande a bien \xe9t\xe9 prise en compte")):alert(e.messageAffi)}))},n.modalReferent=function(){return r.a.createElement(Y.a,{show:n.state.show,onHide:!1,animation:!0,backdrop:!0,keyboard:!1,style:{overlay:{zIndex:3}}},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Title,null,"D\xe9signer votre r\xe9f\xe9rent")),r.a.createElement(Y.a.Body,null,r.a.createElement(b.a,{className:"affiPop"},r.a.createElement(E.a,{s:12,md:12},r.a.createElement("p",null,"C'est lui qui r\xe9partira le pot commun aux \xe9quipes,",r.a.createElement("br",null),"selon vos r\xe8gles,",r.a.createElement("br",null),"rentrez son mail, et si c'est vous-m\xeame qui distribuez,",r.a.createElement("br",null),"alors inscrivez votre mail personnel.")),r.a.createElement(E.a,null,r.a.createElement("input",{type:"text",name:"email",onChange:n.handleInput,placeholder:"B\xe9n\xe9ficiaire",className:"inputAffi"}),r.a.createElement("input",{type:"submit",value:"Envoyer la demande",onClick:n.addAffiliation,className:"button"})),r.a.createElement(E.a,{s:12,md:12},r.a.createElement("p",null,"\xc0 r\xe9ception du mail, le r\xe9f\xe9rent pourra commencer \xe0 r\xe9partir.")))))},n.handleAfterPrint=function(){console.log("`onAfterPrint` called")},n.handleBeforePrint=function(){console.log("`onBeforePrint` called")},n.handleOnBeforeGetContent=function(){return console.log("`onBeforeGetContent` called"),n.setState({text:"Loading new text...",isLoading:!0}),new Promise((function(e){setTimeout((function(){n.setState({text:"New, Updated Text!",isLoading:!1},e)}),2e3)}))},n.reactToPrintTrigger=function(){return r.a.createElement("button",null,"Print ")},n.getRestaurantName=Object(N.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Headers({Authorization:"Bearer "+localStorage.getItem("token"),"X-Requested-With":"XMLHttpRequest"}),fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/profil",{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("propsRestaurant",JSON.stringify(e.restaurantName)),n.setState({restaurantName:e.restaurantName}),n.setState({pourboireGeneral:e.pourboireGeneral}),n.setState({tabServeur:e.tabServeur}),n.setState({menu:e.menu.dailyMenu.picture}),n.setState({data:JSON.stringify(e)}),!0===e.pourboireGeneral&&0===e.tabServeur.length?n.setState({show:!n.state.show}):n.setState({show:!1})}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),n.isSubscribed=function(){if(console.log("abonne state",n.state.abonne),!1===n.state.data.abonne)return r.a.createElement(Y.a.Dialog,null,r.a.createElement(Y.a.Header,{closeButton:!0},r.a.createElement(Y.a.Title,null,"Modal title")),r.a.createElement(Y.a.Body,null,r.a.createElement("p",null,"Modal body text goes here.")),r.a.createElement(Y.a.Footer,null,r.a.createElement(O.a,{variant:"secondary"},"Close"),r.a.createElement(O.a,{variant:"primary"},"Save changes")))},n.state={restaurantName:"",isLoading:!1,data:{},pourboireGeneral:"",tabServeur:[],show:!1,email:"",menu:{}},n.hideModal=n.hideModal.bind(Object(W.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getRestaurantName()}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement(b.a,{className:"rowGlobal"},r.a.createElement(E.a,{md:10},r.a.createElement(Z,{className:"personnel"}),r.a.createElement("h1",{className:"titleQR"},"Mes QR Codes"),r.a.createElement(b.a,{className:"rowGlobal"},r.a.createElement(E.a,{md:{span:9,offset:7},className:"colTuto"},this.modalReferent(),r.a.createElement($,null)),r.a.createElement(b.a,{className:"rowGlobal"},r.a.createElement(E.a,{xs:9,s:9,md:6},r.a.createElement("p",{className:"titleQR"},r.a.createElement("strong",null," QR CODE Pourboire de votre \xe9tablissement")),r.a.createElement("p",{className:"qrSub"},"\xc0 t\xe9l\xe9charger pour impression sur vos supports ou insertion dans votre logiciel de caisse ou d'encaissement"),r.a.createElement("div",null,r.a.createElement(G,{restaurant:JSON.parse(localStorage.getItem("propsRestaurant"))}))),""===this.state.menu?null:r.a.createElement(E.a,{xs:9,s:9,md:6},r.a.createElement("p",{className:"titleQR"}," ",r.a.createElement("strong",null,"QR CODE Carte")," "),r.a.createElement("p",{className:"qrSub"},"\xc0 t\xe9l\xe9charger pour impression",r.a.createElement("br",null),"et mise \xe0 disposition au sein de votre \xe9tablissement"),r.a.createElement(T,{restaurant:JSON.parse(localStorage.getItem("propsRestaurant"))}))))),r.a.createElement(b.a,{className:"rowGlobal marginToop"},r.a.createElement(E.a,{className:"centerCol",md:3},r.a.createElement(Q,{className:"menuhome"})))))}}]),a}(n.Component),te=a(87),ae=(a(154),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getOtherMenu=function(){var e=new Headers({Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/menu",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){n.setState({menu:e.menu})}),(function(e){console.log(e)}))},n.noMenu=function(){return n.state.menu.otherMenu&&n.state.menu.otherMenu.length?r.a.createElement("div",null,r.a.createElement(te.a,null,n.display())):r.a.createElement("p",null,"Vous n'avez pas de menu pour l'instant")},n.onSubmit=function(e){e.preventDefault();var t=new FormData(e.target),a=new Headers({Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/menu/add",{method:"POST",body:t,headers:a}).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.getOtherMenu()}),(function(e){console.log(e)}))},n.deleteMenu=function(e,t){e.preventDefault();var a={picture:n.state.menu.otherMenu[t].picture},r=new Headers({"Content-type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),l={method:"DELETE",body:JSON.stringify(a),headers:r};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/menu/delete",l).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.getOtherMenu()}),(function(e){console.log(e)}))},n.display=function(){var e=[];return n.state.menu.otherMenu.map((function(t,a){e.push(r.a.createElement(te.a.Item,null,r.a.createElement(X.a,{style:{width:"100%"}},r.a.createElement(X.a.Img,{variant:"top",src:"https://back-end.osc-fr1.scalingo.io/"+t.picture}),r.a.createElement(X.a.Body,null,r.a.createElement(O.a,{onClick:function(e){return n.deleteMenu(e,a)},className:"buttonMenuSup"},"Supprimer le menu")))))})),e},n.state={menu:{otherMenu:[]}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getOtherMenu()}},{key:"render",value:function(){return r.a.createElement(p.a,{className:"menuContain"},r.a.createElement(b.a,null,r.a.createElement(E.a,{md:{span:6,offset:3},className:"menu"},r.a.createElement("h2",null,"Mes Menus")),r.a.createElement(E.a,{className:"menuOther",md:12},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"file",name:"file",multiple:!0,accept:"image/png, image/jpeg, image/jpg"}),r.a.createElement(O.a,{className:"buttonMenu",type:"submit"},"Valider")),this.noMenu())))}}]),a}(n.Component)),ne=(a(155),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"menus"},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(Q,null)),r.a.createElement(E.a,{md:12,sm:12},r.a.createElement(ae,null))))}}]),a}(n.Component)),re=(a(156),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.passwordRenew=function(e){if(e.preventDefault(),n.state.email&&n.state.password){var t={email:n.state.email,password:n.state.password,token:n.props.match.params.token},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/password-renew",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",password:"",message:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{className:"renewPass"},r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"PassRenewCol",md:12},r.a.createElement("h1",{className:"newPass"}," Votre nouveau mot de passe"),r.a.createElement("form",{className:"formRenew",onSubmit:this.passwordRenew},r.a.createElement("input",{className:"inputRenew",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"}),r.a.createElement("br",null),r.a.createElement("input",{className:"inputRenew",type:"password",id:"password",name:"password",onChange:this.handleInput,placeholder:"Nouveau mot de passe"}),r.a.createElement("br",null),r.a.createElement(O.a,{onClick:this.passwordRenew,className:"renewButton"},"Valider")),r.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),le=(a(157),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.passwordReset=function(e){if(e.preventDefault(),n.state.email){var t={email:n.state.email},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/password-reset",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",message:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{className:"passwordReset"},r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"PassResetCol",md:12},r.a.createElement("div",{className:"PassResetDiv"},r.a.createElement("h1",{className:"taille"},"Veuillez saisir votre mail "),r.a.createElement("h1",{className:"titrePass taille"},"pour r\xe9initialiser votre mot de passe"," "),r.a.createElement("form",{className:"formReset",onSubmit:this.passwordReset},r.a.createElement("input",{className:"inputReset",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"})))),r.a.createElement(E.a,{className:"ButtonReset",md:12},r.a.createElement(O.a,{onClick:this.passwordReset,className:"resetButton"},"Confirmer"),r.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),oe=(a(158),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(L.a)({},e.target.name,e.target.value))},n.addNewRegister=function(e){e.preventDefault();var t={firstname:n.state.firstname,lastname:n.state.lastname,city:n.state.city,adress:n.state.adress,restaurantName:n.state.restaurantName,bossFirstName:n.state.bossFirstName,bossName:n.state.bossName,noon:n.state.noon,evening:n.state.evening,pourboireGeneral:n.state.pourboireGeneral,pourboireIndividuel:n.state.pourboireIndividuel,date:n.state.date,email:n.state.email,phone:n.state.phone,password:n.state.password},a=new Headers({"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/parrainInscription",{method:"POST",body:t,headers:a}).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))},n.state={restaurantName:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{className:"Bloc-principal"},r.a.createElement(b.a,null,r.a.createElement(E.a,{className:"colInscr",md:6},r.a.createElement(b.a,{className:"Titre"},r.a.createElement("h1",null,"Cr\xe9er mon compte")),r.a.createElement(b.a,null,r.a.createElement("p",null,"F\xe9licitation ! Vous avez \xe9t\xe9 parrain\xe9(e), veuillez remplir les champs ci-dessous pour finaliser votre inscription.")),r.a.createElement(b.a,null,r.a.createElement(D.a,{className:"form"},r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formNom"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Nom du restaurant",name:"restaurantName",onChange:this.handleInput})))),r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formPrenom"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Nom ",name:"bossName",onChange:this.handleInput}))),r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formDate"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Pr\xe9nom",name:"bossFirstName",onChange:this.handleInput})))),r.a.createElement(D.a.Group,{controlId:"formAdresse"},r.a.createElement(D.a.Control,{type:"text",placeholder:"Adresse",name:"adress",onChange:this.handleInput})),r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formVille"},r.a.createElement(D.a.Control,{type:"text",placeholder:"T\xe9l\xe9phone",name:"phone",onChange:this.handleInput}))),r.a.createElement(E.a,null,r.a.createElement(D.a.Group,{controlId:"formTel"},r.a.createElement(D.a.Control,{type:"text",placeholder:"E-mail",name:"email",onChange:this.handleInput})))),r.a.createElement(b.a,null,r.a.createElement(E.a,{xs:6},r.a.createElement(D.a.Group,{className:"servicePropose",controlId:"formService"},r.a.createElement(D.a.Label,{controlId:"formService"},"Services propos\xe9s"),r.a.createElement(D.a.Check,{type:"checkbox",name:"noon",label:"Midi",onChange:this.handleInput}),r.a.createElement(D.a.Check,{type:"checkbox",name:"evening",label:"Soir",onChange:this.handleInput}))),r.a.createElement(E.a,{xs:6},r.a.createElement(D.a.Group,{controlId:"formService"},r.a.createElement(D.a.Label,null,"Syt\xe8mes de pourboires"),r.a.createElement(D.a.Check,{type:"checkbox",name:"alone",label:"Individuel",onChange:this.handleInput}),r.a.createElement(D.a.Check,{type:"checkbox",name:"Collectif",label:"G\xe9n\xe9ral",onChange:this.handleInput})))),r.a.createElement(D.a.Group,{controlId:"formPass"},r.a.createElement(D.a.Label,null,"Mot de passe",r.a.createElement("p",{className:"detailPassword"},"8 caract\xe8res min. : au moins 1 majuscule, 1 minuscule, 1 chiffre et 1 caract\xe8re sp\xe9cial")),r.a.createElement(D.a.Control,{type:"password",placeholder:"Mot de passe",name:"password",onChange:this.handleInput})),r.a.createElement(b.a,null,r.a.createElement(E.a,{md:9},r.a.createElement(D.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement("br",null),r.a.createElement(D.a.Check,{className:"checkboxCGUParrainage",type:"checkbox",name:"acceptControl",label:"J'ai lu et j'accepte les CGU et CGV",onChange:this.handleInput,required:!0}),r.a.createElement(b.a,{style:{marginLeft:"10px",fontWeight:"bold"}},r.a.createElement("a",{className:"cgvLink",href:"/CGV_TIPTOTHANK.pdf",target:"_blanck"},"CGU")))),r.a.createElement(E.a,{md:3},r.a.createElement(O.a,{className:"submitButton",variant:"primary",block:!0,type:"submit",onClick:this.addNewRegister},"S'inscrire")),r.a.createElement("p",{className:"annonceParrainage"},"*TIPOURBOIRE est responsable du traitement des donn\xe9es personnelles collect\xe9es sur ce site. Elles sont collect\xe9es aux fins de : l'ex\xe9cution du contrat/vous informer de nos nouveaut\xe9s et actualit\xe9s/\xe0 des fins statistiques, les bases l\xe9gales respectives des traitements pouvant \xeatre l'ex\xe9cution du contrat, l'int\xe9r\xeat l\xe9gitime, ou le consentement. Pour plus d'informations voir notre politique de confidentialit\xe9."))),r.a.createElement(E.a,{md:{span:6,offset:3}},this.state.message)))))}}]),a}(n.Component)),se=(a(159),a(169)),ce=(a(160),n.Component,function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).connect=function(){return n.props.login?r.a.createElement(p.a,{fluid:!0},r.a.createElement(b.a,{className:"partie1"},r.a.createElement(se.a,{className:"nav justify-content-right"},r.a.createElement(se.a.Toggle,{alignRight:!0,variant:"success",id:"dropdown-basic"},r.a.createElement("img",{src:"/image/user.png"})),r.a.createElement(se.a.Menu,null,r.a.createElement(se.a.Item,{href:"/homepage"},"Accueil"),r.a.createElement(se.a.Item,{href:"/Profil"},"Profil"),r.a.createElement(se.a.Item,{onClick:function(){window.confirm("Voulez vous vous d\xe9connecter ?"),localStorage.clear(),n.props.setLogin(!1),n.props.history.push("/")},href:"/"},"D\xe9connexion"))),r.a.createElement(E.a,{className:"logoPartie1",md:12},r.a.createElement("a",{href:"https://tipourboire.com/"},r.a.createElement("img",{src:"/image/logoJaune.png"}))))):r.a.createElement(p.a,{fluid:!0},r.a.createElement(b.a,{className:"partie1"},r.a.createElement(se.a,{className:"nav justify-content-right"},r.a.createElement(se.a.Toggle,{alignRight:!0,variant:"success",id:"dropdown-basic"},r.a.createElement("img",{src:"/image/user.png"})),r.a.createElement(se.a.Menu,null,r.a.createElement(se.a.Item,{href:"/inscription"},"Inscription"),r.a.createElement(se.a.Item,{href:"/"},"Connexion"))),r.a.createElement(E.a,{className:"logoPartie1",md:12},r.a.createElement("a",{href:"https://tipourboire.com"},r.a.createElement("img",{src:"/image/logoJaune.png"})))))},n.state={},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){this.connect()}},{key:"render",value:function(){return r.a.createElement("div",{className:"barre-de-menu"},this.connect())}}]),a}(n.Component)),ie=(a(162),a(171)),me=a(170),ue=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).deleteProfil=function(e){var t={userId:localStorage.getItem("userID"),profil:n.state.profil},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),r={method:"DELETE",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/deleteRestaurant",r).then((function(e){return e.json()})).then((function(){window.location.href="https://restaurant.tipourboire.com/",localStorage.clear()}),(function(e){console.log(e)}))},n.modalDelete=function(){return r.a.createElement(Y.a,{show:n.state.showModal,onHide:function(){n.setState({showModal:!1})}},r.a.createElement(Y.a.Header,{closeButton:!0},r.a.createElement(Y.a.Title,{className:"modalTitle"},"Supprimer mon compte")),r.a.createElement(Y.a.Body,{className:"modalBody"},"Etes vous sur de vouloir supprimer votre compte Tipourboire ?"," "),r.a.createElement(Y.a.Footer,null,r.a.createElement(O.a,{className:"modalButtonDelete",variant:"secondary",onClick:function(){n.deleteProfil()}},"Supprimer"),r.a.createElement(O.a,{className:"modalButtonDelete",variant:"primary",onClick:function(){n.setState({showModal:!1})}},"Annuler")))},n.state={showModal:!1,token:localStorage.getItem("token")||null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"footer"},this.modalDelete(),r.a.createElement(ie.a,{fixed:"bottom",collapseOnSelect:!0,expand:"lg",bg:"#edeaea"},r.a.createElement(ie.a.Brand,{href:"#home",className:"textFooter"},"@Tipourboire"),r.a.createElement(ie.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(ie.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(me.a,{className:"mr-auto"},r.a.createElement(me.a.Link,{href:"mentionsLegales/MentionsL\xe9gales.pdf",className:"textFooter"},"Mentions L\xe9gales"),r.a.createElement(me.a.Link,{href:"CGV/CGA.pdf",className:"textFooter"},"CGA"),r.a.createElement(me.a.Link,{href:"confidentialit\xe9/Politique_de_confidentialit\xe9_restaurateur.pdf",className:"textFooter"},"Confidentialit\xe9"),r.a.createElement(me.a.Link,{href:"cookies/POLITIQUE_DE_COOKIES.pdf",className:"textFooter"},"Cookies"),r.a.createElement(me.a.Link,{href:"mailto:contact@tipourboire.com",className:"textFooter"},"Contact"),localStorage.getItem("token")?r.a.createElement(me.a.Link,{className:"textFooter",onClick:function(){return e.setState({showModal:!0})}},"Supprimer mon compte"):null),r.a.createElement(me.a,null,r.a.createElement(me.a.Link,{eventKey:2,href:"https://tipourboire.com",className:"textFooter"},"A propos")))))}}]),a}(n.Component),de=a(104),pe=a(102),fe=a(101),he=a.n(fe),Ee=(a(163),a(86));function be(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),s=Object(w.a)(o,2),c=s[0],i=s[1],m=Object(n.useState)(" "),u=Object(w.a)(m,2),d=(u[0],u[1]);Object(n.useEffect)((function(){p()}),[]);var p=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/getDataClient",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){var t=e;i((function(e){return[].concat(Object(de.a)(e),[t])}))}),(function(e){console.log(e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{show:a,variant:"danger"},r.a.createElement(Ee.a.Heading,null,"R\xe9siliation d'abonnement Tipourboire"),r.a.createElement("p",null,"\xcates-vous bien s\xfbr de vouloir r\xe9silier votre abonnement Tipourboire ?"),r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(O.a,{onClick:function(){!function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")});fetch("https://back-end.osc-fr1.scalingo.io/restaurateur/unsubscribe",{method:"DELETE",headers:e}).then((function(e){return e.json()})).then((function(e){d(e.message)}),(function(e){console.log(e)}))}()},variant:"outline-danger"},"R\xe9silier mon abonnement"),r.a.createElement(O.a,{onClick:function(){return l(!1)},variant:"outline-success"},"Annuler la r\xe9siliation"))),r.a.createElement("div",{className:"bloc-data"},r.a.createElement("h3",null,"Base de donn\xe9es client"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("button",{className:"Telecharger",onClick:function(){return l(!0)}},"R\xe9siliation abonnement"),r.a.createElement(he.a,{id:"test-table-xls-button",className:"Telecharger",table:"table-to-xls",filename:"tablexls",sheet:"tablexls",buttonText:"T\xe9l\xe9charger"}),r.a.createElement(pe.a,{id:"table-to-xls",striped:!0,bordered:!0,hover:!0},r.a.createElement("th",{className:"colorTitre"},"Nom"),r.a.createElement("th",{className:"colorTitre"},"Prenom"),r.a.createElement("th",{className:"colorTitre"},"Mail"),r.a.createElement("th",{className:"colorTitre"},"T\xe9l\xe9phone"),r.a.createElement("th",{className:"colorTitre"},"Age"),r.a.createElement("tbody",null,c.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{type:"text",id:"firstname",name:"firstname"}," ",e.firstname),r.a.createElement("td",{type:"text",id:"lastname",name:"lastname"}," ",e.lastname),r.a.createElement("td",{type:"text",id:"email",name:"email"}," ",e.email),r.a.createElement("td",{type:"text",id:"phone",name:"phone"}," ",e.phone),r.a.createElement("td",{type:"text",id:"age",name:"age"}," ",e.age))})))))))}var ge=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(be,null)}}]),a}(n.Component),ve=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setLogin=function(e){n.setState({login:e})},n.state={login:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){null!=localStorage.getItem("token")&&this.setState({login:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(ce,{setLogin:this.setLogin,login:this.state.login}),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(z,Object.assign({setLogin:e.setLogin},t))}}),r.a.createElement(d.b,{path:"/homepage",render:function(t){return r.a.createElement(ee,Object.assign({setLogin:e.setLogin},t))}}),r.a.createElement(d.b,{path:"/inscription",component:F}),r.a.createElement(d.b,{path:"/profil",render:function(t){return r.a.createElement(B,Object.assign({setLogin:e.setLogin},t))}}),r.a.createElement(d.b,{path:"/dataClient",component:ge}),r.a.createElement(d.b,{path:"/menus",component:ne}),r.a.createElement(d.b,{path:"/equipe",component:Z}),r.a.createElement(d.b,{path:"/abonnement",component:j}),r.a.createElement(d.b,{path:"/passwordRenew",component:re}),r.a.createElement(d.b,{path:"/passwordReset",component:le}),r.a.createElement(d.b,{path:"/inscriptionParrainageRestaurateur",component:oe})),r.a.createElement(ue,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[108,1,2]]]);
//# sourceMappingURL=main.5e5938cc.chunk.js.map